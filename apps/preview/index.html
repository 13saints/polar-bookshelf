<html>
<head>

<!--    <style>-->

<!--        .textLayer {-->
<!--            position: absolute;-->
<!--            left: 0;-->
<!--            top: 0;-->
<!--            right: 0;-->
<!--            bottom: 0;-->
<!--            color: #000;-->
<!--            font-family: sans-serif;-->
<!--            overflow: hidden;-->
<!--        }-->

<!--        .textLayer > div {-->
<!--            color: transparent;-->
<!--            position: absolute;-->
<!--            line-height: 1;-->
<!--            white-space: pre;-->
<!--            cursor: text;-->
<!--        }-->

<!--        .textLayer .highlight {-->
<!--            margin: -1px;-->
<!--            padding: 1px;-->

<!--            background-color: rgba(180, 0, 170, 0.2);-->
<!--            border-radius: 4px;-->
<!--        }-->

<!--        .textLayer .highlight.begin {-->
<!--            border-radius: 4px 0px 0px 4px;-->
<!--        }-->

<!--        .textLayer .highlight.end {-->
<!--            border-radius: 0px 4px 4px 0px;-->
<!--        }-->

<!--        .textLayer .highlight.middle {-->
<!--            border-radius: 0px;-->
<!--        }-->

<!--        .textLayer .highlight.selected {-->
<!--            background-color: rgba(0, 100, 0, 0.2);-->
<!--        }-->

<!--        .pdfViewer .page {-->
<!--            direction: ltr;-->
<!--            width: 816px;-->
<!--            height: 1056px;-->
<!--            margin: 1px auto -8px auto;-->
<!--            position: relative;-->
<!--            overflow: visible;-->
<!--            border: 9px solid transparent;-->
<!--            background-clip: content-box;-->
<!--            background-color: white;-->
<!--        }-->

<!--        .pdfViewer.singlePageView .page {-->
<!--            margin: 0;-->
<!--            border: none;-->
<!--        }-->

<!--    </style>-->

    <link rel="stylesheet" href="../../node_modules/pdfjs-dist/web/pdf_viewer.css">

<!--    <style>-->

<!--        html, body {-->
<!--            width: 100%;-->
<!--            height: 100%;-->
<!--            background-color: white;-->
<!--            margin: 0;-->
<!--        }-->

<!--        /*.page {*/-->
<!--        /*    margin-left: auto;*/-->
<!--        /*    margin-right: auto;*/-->
<!--        /*}*/-->


<!--        .textLayer {-->
<!--            position: absolute;-->
<!--            left: 0;-->
<!--            top: 0;-->
<!--            right: 0;-->
<!--            bottom: 0;-->
<!--            overflow: hidden;-->
<!--            opacity: 0.2;-->
<!--            line-height: 1.0;-->
<!--        }-->

<!--        .textLayer > div {-->
<!--            color: transparent;-->
<!--            position: absolute;-->
<!--            white-space: pre;-->
<!--            cursor: text;-->
<!--            -webkit-transform-origin: 0% 0%;-->
<!--            transform-origin: 0% 0%;-->
<!--        }-->

<!--        .textLayer .highlight {-->
<!--            margin: -1px;-->
<!--            padding: 1px;-->

<!--            background-color: rgb(180, 0, 170);-->
<!--            border-radius: 4px;-->
<!--        }-->

<!--        .textLayer .highlight.begin {-->
<!--            border-radius: 4px 0px 0px 4px;-->
<!--        }-->

<!--        .textLayer .highlight.end {-->
<!--            border-radius: 0px 4px 4px 0px;-->
<!--        }-->

<!--        .textLayer .highlight.middle {-->
<!--            border-radius: 0px;-->
<!--        }-->

<!--        .textLayer .highlight.selected {-->
<!--            background-color: rgb(0, 100, 0);-->
<!--        }-->

<!--        .textLayer ::-moz-selection { background: rgb(0,0,255); }-->

<!--        .textLayer ::selection { background: rgb(0,0,255); }-->

<!--        .textLayer .endOfContent {-->
<!--            display: block;-->
<!--            position: absolute;-->
<!--            left: 0px;-->
<!--            top: 100%;-->
<!--            right: 0px;-->
<!--            bottom: 0px;-->
<!--            z-index: -1;-->
<!--            cursor: default;-->
<!--            -webkit-user-select: none;-->
<!--            -moz-user-select: none;-->
<!--            -ms-user-select: none;-->
<!--            user-select: none;-->
<!--        }-->

<!--        .textLayer .endOfContent.active {-->
<!--            top: 0px;-->
<!--        }-->

<!--    </style>-->
</head>
<body>

<div id="viewerContainer">

    <div>
        <div id="viewer" class="pdfViewer"></div>
    </div>

</div>

<script src="/apps/init.js"></script>

<script>

    const fallbackLoader = () => {


        // REQUIRE_ENTRY_POINT: there seems to be an Electron bug where when
        // loading over HTTP we can't find node_modules until we require().  We can
        // only find standard modules like 'fs' and 'electron' but not custom
        // modules so we have to just have these four lines repeated over and over
        // for each of our main apps.  In the future we should try to track down
        // why this is happening but I spent 1-2 hours on trying to figure out
        // the root cause with no resolution and this is a temporary workaround.
        const {remote} = require('electron');
        const path = require('path');
        const appPath = remote.getGlobal("appPath");
        require(path.join(appPath, "apps", "preview", "index.js"));

    };

    injectApp('/web/dist/repository-bundle.js', fallbackLoader);

</script>

</body>
</html>
